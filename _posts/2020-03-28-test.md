---
layout: post
title: "test"
date: 2020-03-28 20:21:00 -0000
categories: Test
---

<div class="topLayer">
	<div class="inputText">
		<label for="textarea_in"> 在此输入文本 </label>
		<textarea id="textarea_in"></textarea>
	</div>
	<div class="control">
		<label for="maxColumn_in"> 最大列数 </label>
		<input id='maxColumn_in' type='number' value='7'> </input>
	</div>
	<div class="ouputText">
		<label for="textarea_out"> 转换后的文本 </label>
		<textarea id="textarea_out"readOnly> </textarea>
	</div>
</div>
<style type="text/css">
div.topLayer{
	margin-left: 15%;
	width: 70%;
	height: 90%;
}
div.ouputText{
	margin-top: 10px;
}
textarea {
	margin-top: 5px;
	margin-bottom: 10px;
	width: 95%;
	height: 150px;
	background-color: #26323863;
	color: inherit;
}
textarea:focus{
    border-color: #b3e5fc;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)
}
</style>
<script type="text/javascript">
document.getElementById("textarea_in").addEventListener("input", encode);
document.getElementById("maxColumn_in").addEventListener("input", encode);
function encode(){
	var maxColumn=7;
	maxColumn=document.getElementById("maxColumn_in").value;
	var inputString=document.getElementById("textarea_in").value;
	document.getElementById("textarea_out").value=venusCode(inputString,maxColumn);
}

function venusCode(inputString,maxColumn){
	var outputString="";
		if (inputString.length<=maxColumn) {
			//if maxColumn is too large for input string, cut it in half.
			maxColumn=inputString.length/2;
		}
		var rawCount=Math.ceil(inputString.length/maxColumn);

		for (i=0;i<rawCount;i++) {
			for (j=0; j<maxColumn; j++) {
				charIndex=i+j*rawCount;
				if (charIndex<inputString.length) {
					theChar=inputString.charAt(charIndex);
					outputString+=theChar;
					if(theChar.charCodeAt(0) < 127){outputString+=" ";} //additional space for half-full
					outputString+=" ";
				}
			}
			outputString+="\n"; //End of this line.
		}

		return outputString;
}
</script>